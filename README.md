# 成语接龙图生成器 IdiomGraph-gv

[![Codacy Badge](https://api.codacy.com/project/badge/Grade/6da685fbbeb94f469b0dab97ef0aa0f0)](https://app.codacy.com/gh/tslmy/idiomgraph-gv?utm_source=github.com&utm_medium=referral&utm_content=tslmy/idiomgraph-gv&utm_campaign=Badge_Grade_Settings)

A program that generates a look-up chart for the game Chinese Idiom Solitaire.

Idiom Solitaire is a classic game among Chinese speakers. In this game, players take turns to come up with an four-character idiom that starts with the last (forth) character of the last player's idiom. This first player that fails to come up with one loses (and have to take a shot of spirit -- at least this was how I learned the game when I was 8 years old).

How is that a game? There are ~50,000 four-character idioms in the Chinese language (at least in the dictionary that I'm using in this repo), each of which start with one of ~3,500 unique characters. Thus, each round of game may end up with an unique path of idioms presented.

Technical details: The chart will be in PDF format, generated by `graphviz`, and is a direct graph. Notice that the graph might not be connected (in the graph-theory sense).

![demo](https://i.imgur.com/OD3RQ9P.png)

## Usage

1. Create a conda environment with the required packages:

```shell
conda create --name idiom --file conda-requirements.txt
conda activate idiom
```

2. Run this command to retrieve a list of idioms:

```shell
curl https://raw.githubusercontent.com/fighting41love/funNLP/master/data/%E6%88%90%E8%AF%AD%E8%AF%8D%E5%BA%93/ChengYu_Corpus%EF%BC%885W%EF%BC%89.txt > idioms.txt
```

3. Run the main script:

```shell
python main.py generate
```

## Related Projects

- [IdiomGraph](https://github.com/shawlu95/IdiomGraph): Implemented with `neo4j`.
- [Chinese-Idiom-Solitaire](https://github.com/cslayers/Chinese-Idiom-Solitaire)
